{"version":3,"sources":["components/Login/Login.js"],"names":["Login","state","form","name","type","value","touched","error","valid","placeholder","validation","required","minLength","onSubmit","formIsValid","data","field","props","submitLogin","alert","onChange","event","inputField","updatedFormElement","updateObject","target","checkValidity","updatedForm","setState","formElementArr","key","this","push","id","properties","className","map","element","label","variant","helperText","disabled","loading","onClick","color","redirect","isAuthenticated","to","Fragment","Component","connect","auth","token","dispatch","actions"],"mappings":"iRAUMA,E,4MACFC,MAAQ,CACJC,KAAM,CAEE,SAAW,CACPC,KAAK,WACLC,KAAK,OACLC,MAAM,GACNC,SAAQ,EACRC,MAAM,KACNC,OAAM,EACNC,YAAY,iBACZC,WAAW,CACPC,UAAU,IAGlB,SAAW,CACPR,KAAK,WACLC,KAAK,WACLC,MAAM,GACNC,SAAS,EACTE,OAAM,EACND,MAAM,KACNE,YAAY,iBACZC,WAAW,CACPC,UAAU,EACVC,UAAU,M,EAK9BC,SAAW,WACP,GAAG,EAAKZ,MAAMa,YAAY,CACtB,IAAIC,EAAO,GACX,IAAI,IAAIC,KAAS,EAAKf,MAAMC,KACxBa,EAAKC,GAAS,EAAKf,MAAMC,KAAKc,GAAOX,MAEzC,EAAKY,MAAMC,YAAYH,QAEvBI,MAAM,kC,EAKdC,SAAW,SAACC,EAAOC,GAEf,IAAMC,EAAqBC,YAAa,EAAKvB,MAAMC,KAAKoB,GAAY,CAChEjB,MAAOgB,EAAMI,OAAOpB,MACpBG,MAAOkB,YAAcL,EAAMI,OAAOpB,MAAO,EAAKJ,MAAMC,KAAKoB,GAAYZ,YACrEJ,SAAS,IAGPqB,EAAcH,YAAa,EAAKvB,MAAMC,KAAZ,eAC3BoB,EAAaC,IAGdT,GAAc,EAClB,IAAI,IAAIQ,KAAcK,EAClBb,EAAca,EAAYL,GAAYhB,SAAWqB,EAAYL,GAAYd,OAASM,EAGtF,EAAKc,SAAS,CACV1B,KAAMyB,EACNb,YAAaA,K,uDAIZ,IAAD,OACAe,EAAiB,GAErB,IAAI,IAAIC,KAAOC,KAAK9B,MAAMC,KACtB2B,EAAeG,KAAK,CAChBC,GAAIH,EACJI,WAAaH,KAAK9B,MAAMC,KAAK4B,KAIrC,IAAI5B,EACA,0BAAMiC,UAAU,cACXN,EAAeO,KAAI,SAAAC,GACjB,OACC,yBAAMP,IAAKO,EAAQJ,IAChB,kBAAC,IAAD,CACKK,MAAOD,EAAQH,WAAW/B,KAC1BoC,QAAQ,WACRhC,MAAO8B,EAAQH,WAAW5B,SAAW+B,EAAQH,WAAW1B,MACxDgC,WAAYH,EAAQH,WAAW3B,MAC/BF,MAAOgC,EAAQH,WAAW7B,MAC1Be,SAAU,SAACC,GAAD,OAAS,EAAKD,SAASC,EAAMgB,EAAQH,WAAW/B,OAC1DM,YAAa4B,EAAQH,WAAWzB,YAChC0B,UAAU,eAAe,iCAMrC,kBAAC,IAAD,CAAQM,SAAUV,KAAKd,MAAMyB,QAASC,QAASZ,KAAKlB,SAAU0B,QAAQ,YAAYK,MAAM,WAAxF,WAKJC,EAAW,KAKf,OAHGd,KAAKd,MAAM6B,kBACVD,EAAW,kBAAC,IAAD,CAAUE,GAAG,OAGxB,kBAAC,IAAMC,SAAP,KACKH,EACA3C,O,GA7GG+C,aAiILC,uBAdS,SAAAjD,GACpB,MAAO,CACHyC,QAASzC,EAAMkD,KAAKT,QACpBnC,MAAON,EAAMkD,KAAK5C,MAClBuC,gBAAsC,OAArB7C,EAAMkD,KAAKC,UAIT,SAAAC,GACvB,MAAO,CACHnC,YAAa,SAACH,GAAD,OAAUsC,EAASC,IAAiBvC,QAI1CmC,CAA6ClD","file":"static/js/7.98c324e8.chunk.js","sourcesContent":["import React,{ Component } from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport './Login.css';\r\nimport * as actions from '../../store/actions/index';\r\nimport { updateObject, checkValidity } from '../../utility/utility';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Login extends Component{\r\n    state = {\r\n        form: {\r\n            \r\n                'username':{\r\n                    name:'username',\r\n                    type:'text',\r\n                    value:'',\r\n                    touched:false,\r\n                    error:null,\r\n                    valid:true,\r\n                    placeholder:'Enter username',\r\n                    validation:{\r\n                        required: true\r\n                    }\r\n                },\r\n                'password':{\r\n                    name:'password',\r\n                    type:'password',\r\n                    value:'',\r\n                    touched: false,\r\n                    valid:true,\r\n                    error:null,\r\n                    placeholder:'Enter password',\r\n                    validation:{\r\n                        required: true,\r\n                        minLength:8\r\n                    }\r\n                }\r\n        }        \r\n    }\r\n    onSubmit = () => {\r\n        if(this.state.formIsValid){\r\n            let data = {};\r\n            for(let field in this.state.form){\r\n                data[field] = this.state.form[field].value;\r\n            }\r\n            this.props.submitLogin(data);\r\n        }else{\r\n            alert('Fill all the fields correctly');\r\n        }\r\n        \r\n    }\r\n\r\n    onChange = (event, inputField) => {\r\n        \r\n        const updatedFormElement = updateObject(this.state.form[inputField],{\r\n            value: event.target.value,\r\n            valid: checkValidity(event.target.value, this.state.form[inputField].validation),\r\n            touched: true\r\n        });\r\n     \r\n        const updatedForm = updateObject(this.state.form,{\r\n            [inputField]: updatedFormElement\r\n        });\r\n        \r\n        let formIsValid = true;\r\n        for(let inputField in updatedForm){\r\n            formIsValid = updatedForm[inputField].touched && updatedForm[inputField].valid && formIsValid;\r\n        }\r\n\r\n        this.setState({\r\n            form: updatedForm,\r\n            formIsValid: formIsValid\r\n        });\r\n    }\r\n        \r\n    render(){\r\n        let formElementArr = [];\r\n\r\n        for(let key in this.state.form){\r\n            formElementArr.push({\r\n                id: key,\r\n                properties : this.state.form[key]\r\n            });\r\n        }\r\n      \r\n        let form = (\r\n            <form className=\"login-form\">\r\n                {formElementArr.map(element => {\r\n                   return(\r\n                    <div  key={element.id}>\r\n                       <TextField \r\n                            label={element.properties.name} \r\n                            variant=\"outlined\"\r\n                            error={element.properties.touched & !element.properties.valid } \r\n                            helperText={element.properties.error} \r\n                            value={element.properties.value} \r\n                            onChange={(event)=>this.onChange(event,element.properties.name)}\r\n                            placeholder={element.properties.placeholder}\r\n                            className='text-field' /><br/>                            \r\n                    </div>\r\n                   );\r\n                })\r\n\r\n                }\r\n                <Button disabled={this.props.loading} onClick={this.onSubmit} variant='contained' color='primary'>LOG IN</Button>\r\n                \r\n            </form>\r\n        );\r\n        \r\n        let redirect = null;\r\n        \r\n        if(this.props.isAuthenticated){\r\n            redirect = <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                {redirect}\r\n                {form}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading: state.auth.loading,\r\n        error: state.auth.error,\r\n        isAuthenticated: state.auth.token !== null\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        submitLogin: (data) => dispatch(actions.authInit(data))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"sourceRoot":""}